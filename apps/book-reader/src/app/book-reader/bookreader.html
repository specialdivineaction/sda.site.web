<main class="section--library section--bookreader flex layout-row layout-align-center" ng-class="{fullscreen: vm.fullscreen}">
   <div class="container flex layout-row">
      <aside class="sidebar flex-nogrow sidebar-tabbed layout-column" ng-class="{ hidden: vm.fullscreen}">
         <nav class="tabs">
            <ul>
               <li class="active">
                  <a ng-click="vm.toggleFullscreen()">
                     <i class="icon fa fa-angle-double-{{vm.fullscreen ? 'right' : 'left'}}"></i>
                     <span class="label">{{vm.fullscreen ? 'Show' : 'Hide'}} Details</span>
                  </a>
               </li>
            </ul>
         </nav>
         <div class="panes content" ng-hide="vm.fullscreen">
            <ng-include src="'app/library/books/book.html'" ng-controller="LibraryBookController as vm"></ng-include>
         </div>
      </aside>
      <div class="content layout-column flex-100">

         <section ng-switch="vm.copyRef.type" class="flex layout-column layout-padding">
                 <!-- TODO make this pluggable such that any display strategy can
                      be loaded on the page without requiring that we edit
                      this file -->
            <hathitrust-reader class="reader flex" ng-switch-when="hathitrust" properties="vm.copyRef.properties"></hathitrust-reader>
            <ia-reader class="reader flex" ng-switch-when="internetarchive" properties="vm.copyRef.properties"></ia-reader>
            <google-book-reader class="reader flex" ng-switch-when="googlebooks" properties="vm.copyRef.properties"></google-book-reader>

            <div class="reader" ng-switch-default>
               <p ng-if="vm.copyRef.type">Sorry. We were unable to load a book reader for that resource.</p>
               <p ng-if="!vm.copyRef.type" class="throbber">Loading book reader&hellip; <i class="fa fa-spin fa-circle-o-notch"></i></p>
            </div>
         </section>

      </div>
   </div>
</main>
